---
title: "Informative Title"
author: "Ava Cascario, Sydney Holt, and Kacie Rohn"
date: "Dec. 3, 2024"
date-modified: now
format: 
  pdf: 
    toc: false
    number-sections: false
    number-depth: 5
    fig-align: center
    cap-location: top
    geometry: 
      - top=1in
      - left=1in
      - right=1in
      - bottom=1in
    colorlinks: true
execute: 
  echo: false
  warning: false
---

```{r codeAppend, ref.label=knitr::all_labels(), echo=TRUE, eval=FALSE}
```

```{r}
#| label: loadPackages
# Load Packages
library(ggplot2)
library(dplyr)

```

# **Research Topic: Field of Study vs Occupation**

# **Research Questions**

# **Provenance Of Our Data**

# **FAIR and CARE Principles**

```{r}
#| label: loadData

shoppingTrendsRaw <- read.csv(
  file = "shopping_trends.csv", 
  header = TRUE, 
  sep = ","
)

View(shoppingTrendsRaw)
```

```{r}
#| label: summarizeData

itemPurchasedData <- shoppingTrendsRaw %>%
  group_by(
    Location, 
    Season, 
    Item.Purchased
  ) %>%
  summarize(
    Item.Count = n(), 
    .groups = "drop"
  )
```


```{r}
#| label: groupStatesByRegion

stateToRegion <- c(
  "Maine" = "Northeast", 
  "New Hampshire" = "Northeast", 
  "Vermont" = "Northeast", 
  "Massachusetts" = "Northeast",
  "Rhode Island" = "Northeast",
  "Connecticut" = "Northeast",
  "New York" = "Northeast",
  "New Jersey" = "Northeast",
  "Pennsylvania" = "Northeast",
  "Delaware" = "South",
  "Maryland" = "South",
  "Virginia" = "South",
  "North Carolina" = "South",
  "South Carolina" = "South",
  "Georgia" = "South",
  "Florida" = "South",
  "West Virginia" = "South",
  "Kentucky" = "South",
  "Tennessee" = "South",
  "Alabama" = "South",
  "Mississippi" = "South",
  "Arkansas" = "South",
  "Louisiana" = "South",
  "Oklahoma" = "South",
  "Texas" = "South",
  "Indiana" = "Midwest", 
  "Illinois" = "Midwest",
  "Michigan" = "Midwest",
  "Ohio" = "Midwest",
  "Wisconsin" = "Midwest",
  "Missouri" = "Midwest",
  "Iowa" = "Midwest",
  "Minnesota" = "Midwest",
  "North Dakota" = "Midwest",
  "South Dakota" = "Midwest",
  "Nebraska" = "Midwest",
  "Kansas" = "Midwest",
  "Montana" = "West",
  "Wyoming" = "West",
  "Colorado" = "West",
  "Idaho" = "West",
  "Nevada" = "West",
  "Utah" = "West",
  "Arizona" = "West",
  "New Mexico" = "West",
  "Washington" = "West",
  "Oregon" = "West",
  "California" = "West",
  "Alaska" = "West",
  "Hawaii" = "West"
)

itemPurchasedData <- itemPurchasedData %>%
  mutate(
    Region = stateToRegion[Location]
  )
```

```{r}
#| label: visualizeItemsByRegionAndSeason

ggplot(
  itemPurchasedData, 
  aes(
    x = Item.Purchased,
    y = Item.Count, 
    fill = Region
  )
) +
  geom_bar(
    stat = "Identity", 
    position = "dodge"
  ) +
  facet_wrap(
    ~Season, 
    scales = "free_x", 
    ncol = 1, 
    strip.position = "top"
  ) +
  labs(
    title = "Items Bought by Region and Season", 
    x = "Item", 
    y = "Number of Items Bought", 
    fill = "Region"
  ) +
  scale_fill_manual(
    values = c(
      "Northeast" = "#779ECB", 
      "South" = "#486856", 
      "Midwest" = "#FFD580", 
      "West" = "#FF7F7F"
    )
  ) +
  theme_minimal() +
  theme(
    axis.text.x = element_text(
      angle = 45, 
      hjust = 1
    ), 
    legend.position = "right", 
    strip.text = element_text(size = 12),
    plot.title = element_text(
      size = 18, 
      hjust = 0.5, 
      face = "bold"
    ), 
    plot.margin = margin(20, 20, 20, 20), 
    axis.title.y = element_text(
      margin = margin(r = 10)
    )
  )

```

